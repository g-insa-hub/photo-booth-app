<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>포토부스 프로그램</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/face-landmarks-detection@0.1.0/dist/face-landmarks-detection.js"></script>
</head>
<body>
    <!-- Page 1: 프로그램 설명 -->
    <div id="page1" class="page active">
        <div class="container">
            <div class="header">
                <div class="logo-section">
                    <div class="company-logo">
                        <h1>📸 포토부스</h1>
                    </div>
                    <div class="character-section">
                        <div class="character">🎭</div>
                    </div>
                </div>
            </div>

            <div class="content">
                <div class="description">
                    <h2>AI 포토부스 프로그램</h2>
                    <p>머신러닝 기반 얼굴 인식으로 다양한 필터 효과를 체험하고<br>
                    특별한 순간을 기록해보세요!</p>

                    <ul class="features">
                        <li>🎪 4가지 재미있는 필터 효과</li>
                        <li>📷 고화질 사진 촬영 (1080x1920)</li>
                        <li>🖨️ 즉석 인쇄 기능</li>
                        <li>🤖 AI 얼굴 인식 기술</li>
                    </ul>
                </div>

                <div class="date-input">
                    <label for="today-date">오늘의 날짜:</label>
                    <input type="date" id="today-date" value="">
                </div>

                <button class="next-btn" onclick="goToPage(2)">
                    사진 촬영하러 가기 →
                </button>
            </div>
        </div>
    </div>

    <!-- Page 2: 카메라 및 촬영 -->
    <div id="page2" class="page">
        <div class="camera-container">
            <div class="camera-section">
                <div class="video-wrapper">
                    <video id="video" autoplay muted></video>
                    <canvas id="overlay" width="1080" height="1920"></canvas>
                    <div id="countdown" class="countdown"></div>
                </div>
            </div>

            <div class="controls-section">
                <div class="background-selection">
                    <h3>배경 선택</h3>
                    <div class="bg-buttons">
                        <button class="bg-btn active" data-bg="0">
                            <span class="bg-preview">🎪</span>
                            <span>꼬깔콘</span>
                        </button>
                        <button class="bg-btn" data-bg="1">
                            <span class="bg-preview">😊</span>
                            <span>부끄럼</span>
                        </button>
                        <button class="bg-btn" data-bg="2">
                            <span class="bg-preview">👑</span>
                            <span>왕관</span>
                        </button>
                        <button class="bg-btn" data-bg="3">
                            <span class="bg-preview">🎭</span>
                            <span>마스크</span>
                        </button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="capture-btn" class="capture-btn">
                        📸 사진 촬영
                    </button>
                    <button id="print-btn" class="print-btn">
                        🖨️ 인쇄하기
                    </button>
                </div>
            </div>
        </div>

        <canvas id="capture-canvas" style="display: none;"></canvas>
    </div>

    <!-- Page 3: 사진 선택 및 인쇄 -->
    <div id="page3" class="page">
        <div class="container">
            <h2>사진을 선택해 주세요.</h2>

            <div class="photo-selection">
                <div class="photo-option">
                    <input type="radio" name="photo-select" value="photo1" id="radio1" style="display: none;">
                    <div class="photo-content">
                        <div class="photo-container">
                            <canvas id="photo1" width="1080" height="1920"></canvas>
                        </div>
                        <div class="photo-info">
                            <label for="radio1" class="select-btn">이 사진 선택</label>
                        </div>
                    </div>
                </div>

                <div class="photo-option">
                    <input type="radio" name="photo-select" value="photo2" id="radio2" checked style="display: none;">
                    <div class="photo-content">
                        <div class="photo-container">
                            <canvas id="photo2" width="1080" height="1920"></canvas>
                        </div>
                        <div class="photo-info">
                            <label for="radio2" class="select-btn">이 사진 선택</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="print-controls">
                <div class="control-buttons">
                    <button id="final-print-btn" class="final-print-btn">
                        선택
                    </button>
                    <button class="back-btn" onclick="goToPage(2)">
                        ← 다시 촬영
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Page 4: 인쇄용 페이지 -->
    <div id="page4" class="page">
        <div class="print-page">
            <div class="print-photo-container">
                <canvas id="print-photo" width="1080" height="1920"></canvas>
            </div>
            <div class="print-message">
                <h2>나의 미래에 로그인 하다.</h2>
                <p class="sub-message">-AI융합교육센터-</p>
            </div>

            <div class="print-actions">
                <button class="print-now-btn" onclick="window.print()">
                    🖨️ 지금 인쇄하기
                </button>
                <button class="back-to-select-btn" onclick="goToPage(3)">
                    ← 사진 다시 선택
                </button>
                <button class="home-btn" onclick="goToPage(1)">
                    🏠 처음으로
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>